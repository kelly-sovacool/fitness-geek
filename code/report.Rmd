---
title: "Activity Report"
author: "Kelly Sovacool"
date: "`r format(Sys.Date(), '%Y-%m-%d')`"
output:
  html_document:
    toc: true
    toc_float: true
github-repo: kelly-sovacool/strava
---

View the source code on GitHub: [kelly-sovacool/strava](https://github.com/kelly-sovacool/strava)

```{r setup, include=FALSE}
library(here)
library(knitr)
library(rmarkdown)
source(here::here("code", "read_processed_data.R"))
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message=FALSE, fig.path = "figures/")
```

## Progress over time

## Last 4 weeks
```{r, out.height='50%'}
knitr::include_graphics(here::here("figures", "bar_time_last_4_weeks.png"))
```


### Distance

```{r}
# sum
knitr::include_graphics(here::here("figures", "bar_sum_dist.png"))
# jitter
knitr::include_graphics(here::here("figures", "jitter_dist_year.png"))
```

### Duration
```{r}
# sum
knitr::include_graphics(here::here("figures", "bar_sum_hrs.png"))
# jitter
knitr::include_graphics(here::here("figures", "jitter_time_year.png"))
```

#### By month

```{r}
knitr::include_graphics(here::here("figures", "bar_all_month.png"))
```

#### By week

```{r}
knitr::include_graphics(here::here("figures", "bar_all_week.png"))
```

#### By day

```{r}
knitr::include_graphics(here::here("figures", "bar_all_day.png"))
```


## Duration by activity

```{r}
knitr::include_graphics(here::here("figures", "jitter_type_time.png"))
```

### Day of the week

```{r}
knitr::include_graphics(here::here("figures", "box_weekday_time.png"))
knitr::include_graphics(here::here('figures', "jitter_weekday_time_grid.png"))
```

## Distance by activity

```{r}
knitr::include_graphics(here::here("figures", "jitter_type_dist_log2.png"))
```

### Day of the week
```{r}
knitr::include_graphics(here::here("figures", "box_weekday_dist_wrap.png"))
knitr::include_graphics(here::here('figures', "jitter_weekday_dist_grid.png"))
```

## Cumulative

```{r}
knitr::include_graphics(here::here("figures", "line_time.png"))
knitr::include_graphics(here::here("figures", "line_dist.png"))
```

## Summary table

```{r}
table_sum <- readr::read_csv(here::here("data" ,"processed", "summary.csv"))
knitr::kable(table_sum %>% 
               arrange(desc(year))
)
```